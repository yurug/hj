%%% This is the template for your configuration file. The %%VALUES%% below are
%%% taken from the Makefile to generate the actual configuration files.
%%% This comment will disappear.
<!-- %%WARNING%% -->
<ocsigen>
  <server>
    <port protocol="HTTP">%%UPORT%%</port>
    <port protocol="HTTPS">%%PORT%%</port>
    <ssl>
       <certificate>%%SSLCERT%%</certificate>
       <privatekey>%%SSLKEY%%</privatekey>
    </ssl>

    %%% Only set for running, not for testing
    %%USERGROUP%%
    <logdir>%%LOGDIR%%</logdir>
    <datadir>%%DATADIR%%</datadir>
    <uploaddir>%%PREFIX%%var/upload</uploaddir>
    <charset>utf-8</charset>
    %%% Only set when debugging
    %%DEBUGMODE%%
    <commandpipe>%%CMDPIPE%%</commandpipe>
    <extension findlib-package="ocsigenserver.ext.staticmod"/>
    <extension findlib-package="ocsigenserver.ext.ocsipersist-%%PERSISTENT_DATA_BACKEND%%"/>
    <extension findlib-package="eliom.server"/>
    %%% This will include the packages defined as SERVER_PACKAGES in your Makefile:
    %%PACKAGES%%
    <host hostfilter="*">
      <static dir="%%STATICDIR%%" />
      <static dir="%%ELIOMSTATICDIR%%" />
      <eliommodule module="%%LIBDIR%%/%%PROJECT_NAME%%.cma">

	<!-- UFR Informatique -->

        <LDAP
      	  host="194.254.199.85"
          port="389"
	  domain="informatique.univ-paris-diderot.fr"
	  base="dc=ufr-info-p7,dc=jussieu,dc=fr"
          firstname="sn"
	  name="givenName"
	  login="uid"
	  email="mail"
	  status="description"
	  teacher_status_value="ENS"
	  />

        <LDAP
      	  host="ldap.script.univ-paris-diderot.fr"
	  domain="univ-paris-diderot.fr"
	  username="cn=didascalie,dc=script,dc=jussieu,dc=fr"
          port="389"
	  base="ou=People,dc=script,dc=jussieu,dc=fr"
          firstname="displayName"
	  fullname="gecos"
	  password="nepElvofgecIlCec"
	  login="uid"
	  status="uid"
	  teacher_status_value=".*[^0-9]+$"
	  />

      </eliommodule>
      <eliom/>
    </host>
  </server>
</ocsigen>
